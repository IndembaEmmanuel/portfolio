---
import { languages, defaultLanguage } from '../i18n/i18n';
import Layout from '../layouts/Layout.astro';

// Cette page ne sera jamais rendue grâce à la configuration vercel.json
// qui redirige / vers /fr, mais nous la gardons comme fallback
---

<script is:inline>
  // Script côté client pour redirection instantanée
  (function() {
    // Détection de la langue du navigateur
    const defaultLang = 'fr';
    const supportedLangs = ['fr', 'en'];
    
    // Récupérer la langue du navigateur
    const browserLang = navigator.language.split('-')[0];
    const userLang = supportedLangs.includes(browserLang) ? browserLang : defaultLang;
    
    // Redirection instantanée
    window.location.replace('/' + userLang);
  })();
</script>

<Layout title="Redirection...">
  <div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
    <p>Redirection...</p>
  </div>
</Layout>
